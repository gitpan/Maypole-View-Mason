<%args>
$base
$classmetadata
</%args>

<%doc>

=head1 addnew

This is the interface to adding a new instance of an object. (or a new
row in the database, if you want to look at it that way) It displays a
form containing a list of HTML components for each of the columns in the
table.

=cut

<& header, %ARGS &>
</%doc>
<h3>Add a new <%$classmetadata->{moniker}%></h3>
<form method="post" action="<%$base%>/<%$classmetadata->{table}%>/do_edit/">
    <input type="hidden" name="action" value="create">
    <table class="view">
%foreach my $col ( @{$classmetadata->{columns}} ) {
%next if $col eq "id";
     <tr> <td class="field"> <% $classmetadata->{colnames}->{$col} %> </td>
     <td> <% $classmetadata->{cgi}->{$col}->as_HTML %> </td></tr>
%}
    </table>
    <input type="submit" name="create" value="create">
</form>
<& footer, %ARGS &>
